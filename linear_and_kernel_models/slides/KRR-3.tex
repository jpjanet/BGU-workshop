
\begin{tikzpicture}[x=1cm,y=1cm]
\tikzstyle{line} = [draw, -latex', very thick]
\draw[use as bounding box, anchor = north west,draw,dashed,gray] (0,0) rectangle (5.5+5.5,3.25+3.25);
\clip (-0.15,-0.15) rectangle (11,6.5);
\node (ds) at (0,0){};
\node (dsy) at (0,4){};
\node (dsx) at (4,0){};
\visible<1->{\path[line,very thick] (ds.center) -- (dsx);}
\visible<1->{\path[line,very thick] (ds.center) -- (dsy);}
\visible<1->{\node (lab1) at (2,-1){\textbf{Linear Regression}};}
\visible<2->{\node[circle, fill=black,minimum width =0.05cm,label=below:{$\mathbf{x}_*$}] (xs) at (1.2,1.3) {};}
\visible<1->{\node[circle, fill=gray,minimum width =0.05cm,label=above:{$\mathbf{x}_1$}] (x1) at (2.2,3.7) {};}
\visible<1->{\node[circle, fill=gray,minimum width =0.05cm,label=above:{$\mathbf{x}_2$}] (x2) at (0.35,2.7) {};}
\visible<1->{\node[circle, fill=gray,minimum width =0.05cm,label=above:{$\mathbf{x}_3$}] (x3) at (3,0.45) {};}
\visible<1->{\path[line,gray,very  thick] (ds.center) -- (x2);}
\visible<2->{\path[line,blue, very thick] (ds.center) -- (xs);}
\visible<3->{\path[line,red, very thick] (ds.center) -- ($(x2.center)!.53!(ds.center)$);}

\visible<1->{\path[line,gray,very  thick] (ds.center) -- (x1);}
\visible<2->{\path[line,blue, very thick] (ds.center) -- (xs);}
\visible<3->{\path[line,red, very thick,dashed] (ds.center) -- ($(x1.center)!.42!(ds.center)$);}

\visible<1->{\path[line,gray,very  thick] (ds.center) -- (x3);}
\visible<2->{\path[line,blue, very thick] (ds.center) -- (xs);}
\visible<3->{\path[line,red, very thick,dashed] (ds.center) -- ($(x3.center)!.42!(ds.center)$);}


\visible<1->{\path[line,gray,very  thick] (ds.center) -- (x1);}
\visible<2->{\path[line,blue, very thick] (ds.center) -- (xs);}
\visible<3->{\path[line,red, very thick,dashed] (ds.center) -- ($(x1.center)!.42!(ds.center)$);}

\visible<3->{\node (ylab) at (2.8,1.75){$y(\mathbf{x_*}) = \sum_{i} a_i \mathbf{x}_{*}^{T} \mathbf{x}_{2}$};}





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\node (ds) at (6,0){};
\node (dsy) at (6,4){};
\node (dsx) at (10,0){};
\def\particles{(7.2,1.3)}

\foreach \point in \particles{
\foreach\i in {0,0.1,...,1.2} {
\visible<6->{\fill[opacity=\i/4,blue] \point circle ({1.5-\i});}         
}
}
\visible<4->{\path[line,very thick] (ds.center) -- (dsx);}
\visible<4->{\path[line,very thick] (ds.center) -- (dsy);}
\visible<4->{\node (lab1) at (8,-1){\textbf{Kernel Ridge Regression}};}
\visible<5->{\node[circle, fill=black,minimum width =0.05cm,label=below:{$\mathbf{x}_*$}] (xs) at (7.2,1.3) {};}
\visible<4->{\node[circle, fill=gray,minimum width =0.05cm,label=above:{$\mathbf{x}_1$}] (x1) at (8.2,3.7) {};}
\visible<4->{\node[circle, fill=gray,minimum width =0.05cm,label=above:{$\mathbf{x}_2$}] (x2) at (6.35,2.7) {};}
\visible<4->{\node[circle, fill=gray,minimum width =0.05cm,label=above:{$\mathbf{x}_3$}] (x3) at (9,0.45) {};}

\visible<6->{\path[line,gray,very  thick,dashed,red] (xs) -- (x2);}

\visible<6->{\path[line,gray,very  thick,dashed,red] (xs) -- (x1);}

\visible<6->{\path[line,gray,very  thick,dashed,red] (xs) -- (x3);}
\visible<6->{\node (ylab) at (9,2.75){$y(\mathbf{x_*}) = \sum_{i} a_i e^{\left(-\frac{1}{2\sigma^2}\left\Vert x_i-x_j \right\Vert_2^2\right)}$};}
\end{tikzpicture}
